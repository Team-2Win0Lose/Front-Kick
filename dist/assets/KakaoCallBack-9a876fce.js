import{u as m,M as u,f as d,l as e,a as h,O as k}from"./vendor-6e44eb02.js";import{q as l,au as _,av as f}from"./common-96e4c6f2.js";const $=g=>{const s=m(),c=u();return d.useEffect(()=>{const n=new URL(document.location.toString()).searchParams.get("code"),r="authorization_code",i=`${_}`,p=`${f}`;e.post(`https://kauth.kakao.com/oauth/token?grant_type=${r}&client_id=${i}&redirect_url=${p}&code=${n}`,{},{headers:{"Content-type":"application/x-www-form-urlencoded;charset-utf-8"}}).then(t=>{const{access_token:o}=t.data;e.post("https://kapi.kakao.com/v2/user/me",{},{headers:{Authorization:`Bearer ${o}`,"Content-type":"application/x-www-formencoded;charset=utf-8"}}).then(a=>{console.log(a),s(l({token:o,email:a.data.kakao_account.email,name:a.data.kakao_account.profile.nickname,profileImg:a.data.properties.thumbnail_image}))})}).catch(t=>{console.error(t)}),c("/home")},[]),h(k,{})};export{$ as default};
